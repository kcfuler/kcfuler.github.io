{
  "blogPosts": [
    {
      "id": "viteConfç®€è®°",
      "metadata": {
        "permalink": "/blog/viteConfç®€è®°",
        "editUrl": "https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2023-10-6-viteConf.md",
        "source": "@site/blog/2023-10-6-viteConf.md",
        "title": "viteConfç®€è®°",
        "description": "Evan you",
        "date": "2023-10-06T00:00:00.000Z",
        "formattedDate": "2023å¹´10æœˆ6æ—¥",
        "tags": [
          {
            "label": "vite",
            "permalink": "/blog/tags/vite"
          }
        ],
        "readingTime": 2.23,
        "hasTruncateMarker": false,
        "authors": [
          {
            "name": "kcfuler",
            "title": "passionate software engineer",
            "url": "https://github.com/kcfuler",
            "imageURL": "https://s2.loli.net/2023/10/04/i7A3Mb81YwvNmGl.jpg",
            "key": "kcfuler"
          }
        ],
        "frontMatter": {
          "slug": "viteConfç®€è®°",
          "title": "viteConfç®€è®°",
          "authors": "kcfuler",
          "tags": [
            "vite"
          ]
        },
        "nextItem": {
          "title": "23-9æœˆæ€»ç»“",
          "permalink": "/blog/23-9æœˆæ€»ç»“"
        }
      },
      "content": "## Evan you\n\n### state of vite\n\n#### 4.0\n\n- rollup 3.0\n- swc\n\n#### 4.2\n\n- source-map debug improvement\n\n#### 4.3\n\n- performance improvement\n\n#### 4.4\n\n- Experimental Lightning CSS support\n- Solid and Qwik templates in create-vite\n\n#### 5.0(bate)\n\n- node 18\n- CommonJS API deprecated\n\n#### mission\n\nThe shared **foundation** for higher-level innovations in the web ecosystem\n\n#### vite's Philosophy\n\n- Lean and Extensible Core\n- Push for the Modern Web\n- A Pragmatic Approach to Performance\n- Support Higher-Level Frameworks\n- Foster a Collaborative Ecosystem\n\n### Next\n\n#### Current Problems of Vite\n\n> vite is far from perfect\n\n- Relatively slow production build speed\n- Inconsistency between dev & prod environments\n- Network overhead of unbundled ESM during dev\n- Confusing SSR externals issues\n- Limited control over chunk splitting\n- Lack of first-party Module Federation support\n\n#### challenges\n\n- Most issues need to be resolved at the bundler level\n- esbuild(or bun) is extremely fast, but:\n  - very limited control for build asset optimization\n  - Plugin API not flexible enough\n- Rollup is mature and flexible, but:\n  - Still slow compared to native bundlers\n  - Handling of ESM/CJS interop can be improved\n- Two bundlers that cannot fully replace one another, and with subtle behavior inconsistencies\n\n### Rolldown\n\n> a rust port of Rollup\n\n- focus: performance with best-effort compatibility with Rollup\n- Goal: switch to it in Vite with minimal impact on end users\n\n#### state\n\n![image-20231006121545472](https://s2.loli.net/2023/10/06/YHueZR4nmIdocwA.png)\n\n#### Roadmap\n\n1. basic bundling\n\n   replace esbuild for dependency pre-bundling\n\n   - CommonJS & Faux-ESM compatibility\n\n2. Advanced Bundling\n\n   - rollup feature parity\n     - plugin compatibility\n     - tree-shaking\n     - Advanced Chunk-splitting control\n\n3. Build-in Transforms\n\n   - TS\n   - JSX\n   - Minification\n   - Syntax lowering\n\n4. Rustify Vite\n\n   - Rolldown exposing plugin container as API\n   - Vite introducing a Rust core , Rolldown as dependency\n   - Rustify perf critical Vite internal pugins & ssrLoadModule transform\n   - Full-bundle mode alternative to unbundled ESM\n\n   åé¢çš„ä¸»è¦å°±æ˜¯çœ‹å…´è¶£æ¥äº†ã€‚ä¸€ä¸ªä¸ªå†™ä¸‹æ¥æ¯”è¾ƒè´¹æ—¶é—´ã€‚\n\n   \n\n## Dr. Lukas\n\n> maintainer of RollupJS\n\n### main complaint\n\n- speed\n- memory comsuption\n\n![image-20231006141021957](https://s2.loli.net/2023/10/06/yIMGUQu6aitWeZc.png)\n\n![image-20231006141323621](https://s2.loli.net/2023/10/06/vqgH5rNI3RTCzWo.png)\n\n`rolldown`è¿™ä¸ªåå­—ç¡®å®æğŸ˜‚\n\n![image-20231006142117800](https://s2.loli.net/2023/10/06/NAVdQzUkwhT8OI6.png)\n\n## Design System\n\n### Figma - Emil sjolander\n\n> Bringing developers into the design process -- figma\n\n![image-20231006144224773](https://s2.loli.net/2023/10/06/opExiR3GMzSDfdh.png)\n\n#### problems\n\n1. design software is not built for devs\n2. Designs don't easily translate to code\n3. miscommunication leads to mistakes\n\n> nothing great made alone\n\n### Storybook - Jeppe Reinholt\n\n> Storybook & Vite: It Keeps Getting Better\n\n## Framework\n\n### unjs - Pooya Parsa\n\n> State of Nitro 2023\n\n![image-20231006150714710](https://s2.loli.net/2023/10/06/zpOq6at8y5WmxI3.png)\n\n### vitest\n\n..."
    },
    {
      "id": "23-9æœˆæ€»ç»“",
      "metadata": {
        "permalink": "/blog/23-9æœˆæ€»ç»“",
        "editUrl": "https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2023-10-4-9æœˆæ€»ç»“.md",
        "source": "@site/blog/2023-10-4-9æœˆæ€»ç»“.md",
        "title": "23-9æœˆæ€»ç»“",
        "description": "â€‹\t9æœˆæ€»ä½“æ¥è¯´è¿˜æ˜¯å‘ç”Ÿäº†ä¸å°‘äº‹ï¼Œå®ä¹ å’Œå¿ƒæ€ä¸Šçš„å˜åŒ–å¯¹ä¹‹å‰çš„è®¡åˆ’å¸¦æ¥äº†ä¸å°çš„å†²å‡»ï¼Œéƒ¨åˆ†é¢„æœŸçš„äº‹éƒ½æ²¡æœ‰åšå®Œã€‚",
        "date": "2023-10-04T00:00:00.000Z",
        "formattedDate": "2023å¹´10æœˆ4æ—¥",
        "tags": [
          {
            "label": "plan",
            "permalink": "/blog/tags/plan"
          }
        ],
        "readingTime": 3.945,
        "hasTruncateMarker": false,
        "authors": [
          {
            "name": "kcfuler",
            "title": "passionate software engineer",
            "url": "https://github.com/kcfuler",
            "imageURL": "https://s2.loli.net/2023/10/04/i7A3Mb81YwvNmGl.jpg",
            "key": "kcfuler"
          }
        ],
        "frontMatter": {
          "slug": "23-9æœˆæ€»ç»“",
          "title": "23-9æœˆæ€»ç»“",
          "authors": "kcfuler",
          "tags": [
            "plan"
          ]
        },
        "prevItem": {
          "title": "viteConfç®€è®°",
          "permalink": "/blog/viteConfç®€è®°"
        },
        "nextItem": {
          "title": "react18å¦‚ä½•æé«˜åº”ç”¨æ€§èƒ½",
          "permalink": "/blog/react18å¦‚ä½•æé«˜åº”ç”¨æ€§èƒ½"
        }
      },
      "content": "â€‹\t9æœˆæ€»ä½“æ¥è¯´è¿˜æ˜¯å‘ç”Ÿäº†ä¸å°‘äº‹ï¼Œå®ä¹ å’Œå¿ƒæ€ä¸Šçš„å˜åŒ–å¯¹ä¹‹å‰çš„è®¡åˆ’å¸¦æ¥äº†ä¸å°çš„å†²å‡»ï¼Œéƒ¨åˆ†é¢„æœŸçš„äº‹éƒ½æ²¡æœ‰åšå®Œã€‚\n\n### å¤§äº‹è®°\n\n1. 9.18å…¥èŒï¼Œç»§ç»­å®ä¹ \n2. 10æœˆå¼€å§‹è¯¾ç¨‹å‹åŠ›++\n3. blogé‡å¯\n\nâ€‹\té¦–å…ˆï¼Œå˜åŒ–æœ€ç›´æ¥çš„å½±å“å°±æ˜¯æ—¶é—´ï¼Œå®ä¹ +è¯¾ç¨‹å¯¼è‡´å­¦ä¹ çš„æ—¶é—´å¤§å¤§ç¼©å‡ï¼ŒåŸæ¥æ¯å¤©å¤§æ¦‚æœ‰6hå·¦å³çš„è‡ªç”±æ—¶é—´å¯ä»¥ç”¨äºå­¦ä¹ ï¼Œç°åœ¨å¤§å¹…é™ä½è¯¾å†…å­¦ä¹ è´¨é‡åï¼Œä¹Ÿåªæœ‰2hå·¦å³äº†ã€‚\n\nâ€‹\tç¬¬äºŒç‚¹æ˜¯å¿ƒæ€ä¸Šçš„å˜åŒ–ã€‚ä¹‹å‰å®ä¹ ç¦»èŒçš„åŸå› ä¸»è¦æ˜¯æƒ³å­¦ä¹ ã€æ¥è§¦æ–°ä¸œè¥¿ã€å…¼é¡¾è¯¾ç¨‹è¿›åº¦ã€‚ä½†åé¢å‘ç°å­¦ä¹ åˆ°çš„æ–°çŸ¥è¯†å¹¶æ²¡æœ‰ä»€ä¹ˆä½¿ç”¨åœºæ™¯ï¼ˆæ¯”å¦‚javaã€æœºç»„çš„å­¦ä¹ ï¼‰ï¼Œå­¦èµ·æ¥**æ²¡æœ‰åé¦ˆ**ï¼Œå­¦ç€å­¦ç€å°±ä¸æƒ³å­¦äº†ã€‚è¯¾å†…çš„ä¸œè¥¿å­¦ä¹ èŠ‚å¥æ¯”è¾ƒæ…¢ï¼Œå¾ˆå®¹æ˜“å¿˜è®°ä¹‹å‰å­¦ä¹ çš„ä¸œè¥¿ï¼Œå­¦ä¹ æœ‰å‰²è£‚æ„Ÿã€‚\n\nâ€‹\tç¬¬ä¸‰ç‚¹å°±æ˜¯é’±ï¼Œç»æµå‹åŠ›æ¯”æˆ‘æƒ³è±¡çš„è¦å¤§ï¼Œä¹‹å‰æ”’çš„ä¸è¶³ä»¥æ¶ˆé™¤å‹åŠ›ï¼Œä¹Ÿä¸å¤Ÿåç»­ç”Ÿæ´»çš„éœ€è¦ï¼Œè¿˜æ˜¯éœ€è¦å®ä¹ ã€‚\n\nâ€‹\tæœ€åä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€ç‚¹ï¼š**å­¦ä¹ çš„æ–¹å¼ã€åé¦ˆ**ã€‚\n\n- ä¹‹å‰åœ¨æ²¡æœ‰åŸºç¡€çš„æ—¶å€™ï¼Œå°†è‡ªå·±æ‰€å­¦çš„æ¯ä¸€ä¸ªå†…å®¹éƒ½æ€»ç»“ä¸ºåšå®¢éš¾åº¦å¾ˆå¤§ï¼Œåœ¨å­¦ä¹ å†…å®¹çš„å‹åŠ›ä¸‹æˆæœ¬å¤ªé«˜ã€‚ç°åœ¨å¯¹äºæ±‚èŒæ–¹å‘è€Œè¨€ï¼Œéœ€è¦å­¦ä¹ çš„å¤§éƒ¨åˆ†å†…å®¹å·²ç»å­¦è¿‡ï¼Œåœ¨å‡†å¤‡é¢è¯•æ—¶ä¹Ÿæœ‰å¤ä¹ ï¼Œå¯¹å•ä¸ªçŸ¥è¯†ç‚¹çš„æŒæ¡åŸºæœ¬è¶³å¤Ÿã€‚é—®é¢˜åœ¨äº**çŸ¥è¯†ä¹‹é—´çš„è¿æ¥**ï¼Œåƒè½¯ä»¶å·¥ç¨‹->æ¨¡å—åŒ–->vue & react->å“åº”å¼åŸç†->æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œè¿™äº›æ¨¡å—ä¹‹é—´éƒ½æœ‰å¾ˆå¤šå†…åœ¨çš„è”ç³»ï¼Œä½†ä¹‹å‰æ˜¾ç„¶æ²¡æœ‰å°†å†…å®¹ä¸²è”èµ·æ¥ã€‚\n- ç°åœ¨çš„çŠ¶æ€åº”è¯¥å¯ä»¥å°†æ–¹å‘åšä¸€ä¸‹è½¬å˜ï¼Œé€šè¿‡æ–‡ç« çš„æ–¹å¼ï¼Œæç‚¼ã€åŠ æ·±å¯¹çŸ¥è¯†çš„ç†è§£ï¼Œè®©å­¦åˆ°çš„çŸ¥è¯†æ›´æœ‰ç”¨\n\n### è®¡åˆ’å®Œæˆæƒ…å†µ\n\n![image-20231004183843206](https://s2.loli.net/2023/10/04/WlEFLjGxBf3bSqV.png)\tæ²¡æœ‰å®Œæˆçš„å†…å®¹ä¸»è¦æ˜¯è®¡ç®—æœºåŸºç¡€ç›¸å…³çš„\n\n- ç®—æ³•ï¼šåªæ˜¯å®Œæˆäº†å‰‘æŒ‡offerä¸­çš„ä¸€éƒ¨åˆ†ï¼Œç®—æ³•æé«˜è¯¾éƒ¨åˆ†çš„å†…å®¹æ€»ä½“æ¥è¯´ç¦»å®è·µå¤ªè¿œï¼Œå¾ˆéš¾å°†å®ƒå’Œå·²æœ‰çš„çŸ¥è¯†å»ºç«‹è¿æ¥ï¼Œæ¯ä¸€æ¬¡ç»ƒä¹ æ„Ÿè§‰éƒ½æ˜¯ç‹¬ç«‹çš„å•å…ƒ | ä½†ç®—æ³•å¸¦æ¥çš„æ€ç»´é”»ç‚¼ä¹Ÿæ˜¯å…¶å®ƒéƒ¨åˆ†å¾ˆéš¾å¸¦æ¥çš„ï¼Œè¿˜æ˜¯éœ€è¦åšæŒ\n- è®¡ç®—æœºç»„æˆåŸç†ï¼šä¸»è¦çš„éš¾ç‚¹åœ¨äºé‡Œé¢æ¶‰åŠåˆ°çš„ç”µè·¯ç›¸å…³çš„åŸç†ï¼Œå¾ˆçƒ¦ï¼Œæ··æ‚ç€è®¡ç®—æœºç³»ç»Ÿç›¸å…³çš„ä¸œè¥¿ï¼Œå¾ˆéš¾çœ‹ä¸‹å»\n- vue & webpackï¼švueæ˜¯å¤ä¹ äº†ä¸€ä¸‹ä¹‹å‰å­¦ä¹ çš„å†…å®¹ï¼Œwebpackè¿˜æ²¡æœ‰å¤ä¹ ï¼Œå› ä¸ºå®é™…é¡¹ç›®ä¸­éœ€è¦é…ç½®webpackçš„åœºæ™¯å¾ˆå°‘ï¼Œå®ä¹ ä¹‹åç¦»é¢è¯•çš„è·ç¦»ä¹Ÿæ¯”è¾ƒè¿œï¼ŒåŸç†ç›¸å…³çš„çŸ¥è¯†åé¢ç”¨åˆ°çš„æ—¶å€™å†å¤ä¹ å§ã€‚\n\n### 10æœˆè®¡åˆ’\n\n- å®Œæˆå®ä¹ å·¥ä½œ-- 6/10\n- å¤„ç†è¯¾å†…ï¼Œå®éªŒè¯¾ã€ç‚¹å -- 2/10\n- è¡¥é½ã€å¤ä¹ æµè§ˆå™¨å†…çš„æŠ€æœ¯æ ˆï¼Œæ¢ç´¢æ–°æŠ€æœ¯-- 2/10"
    },
    {
      "id": "react18å¦‚ä½•æé«˜åº”ç”¨æ€§èƒ½",
      "metadata": {
        "permalink": "/blog/react18å¦‚ä½•æé«˜åº”ç”¨æ€§èƒ½",
        "editUrl": "https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2023-10-3-React18å¦‚ä½•æé«˜åº”ç”¨æ€§èƒ½.md",
        "source": "@site/blog/2023-10-3-React18å¦‚ä½•æé«˜åº”ç”¨æ€§èƒ½.md",
        "title": "react18å¦‚ä½•æé«˜åº”ç”¨æ€§èƒ½",
        "description": "How React 18 Improves Application Performance â€“ Vercel",
        "date": "2023-10-03T00:00:00.000Z",
        "formattedDate": "2023å¹´10æœˆ3æ—¥",
        "tags": [
          {
            "label": "react",
            "permalink": "/blog/tags/react"
          }
        ],
        "readingTime": 5.84,
        "hasTruncateMarker": false,
        "authors": [
          {
            "name": "kcfuler",
            "title": "passionate software engineer",
            "url": "https://github.com/kcfuler",
            "imageURL": "https://s2.loli.net/2023/10/04/i7A3Mb81YwvNmGl.jpg",
            "key": "kcfuler"
          }
        ],
        "frontMatter": {
          "slug": "react18å¦‚ä½•æé«˜åº”ç”¨æ€§èƒ½",
          "title": "react18å¦‚ä½•æé«˜åº”ç”¨æ€§èƒ½",
          "authors": "kcfuler",
          "tags": [
            "react"
          ]
        },
        "prevItem": {
          "title": "23-9æœˆæ€»ç»“",
          "permalink": "/blog/23-9æœˆæ€»ç»“"
        },
        "nextItem": {
          "title": "blogå†æ„å»º",
          "permalink": "/blog/blogå†æ„å»º"
        }
      },
      "content": "> [How React 18 Improves Application Performance â€“ Vercel](https://vercel.com/blog/how-react-18-improves-application-performance)\n\n# ä¸»çº¿ç¨‹å’Œé•¿ä»»åŠ¡\n\n1. é•¿ä»»åŠ¡( >= 50ms)\n2. ä¸€äº›æŒ‡æ ‡(Core Web Vitals metric)\n- Total Blocking Time\n- First Contentful Paint\n- Time To Interactive\n- Interaction to Next Paint (INP), new core metric\n### Traditional React Rendering\n\n- render: compute\n- commit: update\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/22577092/1690252168433-f8737d66-06ab-4612-bee2-e4d227dd825e.png#averageHue=%23f9f8f4&clientId=ud75be37b-ab2a-4&from=paste&height=856&id=uc7df3636&originHeight=1711&originWidth=3521&originalType=binary&ratio=2&rotation=0&showTitle=false&size=646119&status=done&style=none&taskId=u54f50ea8-602a-43b1-a8df-c8f0e2fe329&title=&width=1760.5)\nIn a traditional synchronous render, React would give the same priority to all elements within a component tree. \n![image.png](https://cdn.nlark.com/yuque/0/2023/png/22577092/1690252322834-533311e5-e08d-40c8-a452-473de18e2219.png#averageHue=%23f3f3f1&clientId=ud75be37b-ab2a-4&from=paste&height=376&id=uf2d22cf2&originHeight=751&originWidth=3521&originalType=binary&ratio=2&rotation=0&showTitle=false&size=293154&status=done&style=none&taskId=ubdbabac1-60e3-4492-a3d2-a4ed1dd32b3&title=&width=1760.5)\nA synchronous render is an â€œall-or-nothingâ€ operation, where itâ€™s guaranteed that a component that starts rendering will always finish.\n\n---\n\nReact 18 introduces a new **concurrent** renderer that that operates behind the scenes.\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/22577092/1690266559606-1a43a62f-9b0a-4f00-ac96-718dcd7b2d74.png#averageHue=%23fafafa&clientId=ud75be37b-ab2a-4&from=paste&height=940&id=uc07e55a4&originHeight=1879&originWidth=3521&originalType=binary&ratio=2&rotation=0&showTitle=false&size=674395&status=done&style=none&taskId=u2a0c9d44-e113-45e8-a765-6b33a5afa2d&title=&width=1760.5)\n> When rendering the low-priority components(pink), React yields back to the main thead to check for more important tasks\n\nIn that case, React will yield back to the main thread every 5 ms to see if there are more important tasks to handle instead.\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/22577092/1690267068136-bc592a95-6fea-46a0-9bc8-f5faa5e6be96.png#averageHue=%23f4f5f2&clientId=ud75be37b-ab2a-4&from=paste&height=560&id=u88c61d30&originHeight=1120&originWidth=3521&originalType=binary&ratio=2&rotation=0&showTitle=false&size=495114&status=done&style=none&taskId=u5362903e-2112-4c45-97dc-349c92973c2&title=&width=1760.5)\nAdditionally, the concurrent renderer is able to â€œconcurrentlyâ€ render multiple versions of the component tree in the background without immediately committing the result.\nWhereas a synchronous render is an all-or-nothing computation, the concurrent renderer allows React to pause and resume the rendering of one or multiple component trees to achieve the most optimal user experience.\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/22577092/1690267349086-12adb9fd-4f7d-4933-bbfc-430ee91193d3.png#averageHue=%23f9f9f9&clientId=ud75be37b-ab2a-4&from=paste&height=1085&id=ud6d38dc8&originHeight=2170&originWidth=3521&originalType=binary&ratio=2&rotation=0&showTitle=false&size=1010730&status=done&style=none&taskId=u3df985fa-a3b2-49c0-bf19-e80dee927bd&title=&width=1760.5)\nUsing concurrent features, React can pause and resume the rendering of components based on external events such as user interaction. When the user started interacting with **ComponentTwo**, React paused the current rendering, prioritized and render **ComponentTwo**, after which it resumed rendering **ComponentOne**. We'll talk about this more in the section on **Suspense.**\n## Transitions\nWe can mark an update as non-urgent by using the **startTransition** function made available by the **useTransition** hook. This is a powerful new feature that allows us to mark certain state updates as â€œtransitionsâ€, indicating that they can lead to visual changes that could potentially disrupt user experience if they were rendered synchronously.\nBy wrapping a state update in **startTransition**, we can tell React that weâ€™re okay with deferring or interrupting the rendering to prioritize more important tasks to keep the current user interface interactive.\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/22577092/1690267716311-992a7ec6-a8d2-46d6-99e9-90606b81bac6.png#averageHue=%23f9f9f9&clientId=ud75be37b-ab2a-4&from=paste&height=1247&id=u44e12dd6&originHeight=2494&originWidth=3536&originalType=binary&ratio=2&rotation=0&showTitle=false&size=1128370&status=done&style=none&taskId=u6e927baa-1ab4-4540-8d00-d2874dbd6c4&title=&width=1768)\nTransitions are part of a fundamental shift in React's rendering model, enabling React to render muliple versions of the UI concurrently, and manage priorities between different tasks. This allows for a smoother and more responsive user experience, especially when dealing with high-frequency updates or CPU-intensive rendering tasks.\n# React Server Componnent\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/22577092/1690268488074-5c705077-9fbb-450d-8f81-4d47ca91adf4.png#averageHue=%23f7f7f7&clientId=ud75be37b-ab2a-4&from=paste&height=1428&id=u0d26b5c1&originHeight=2855&originWidth=3840&originalType=binary&ratio=2&rotation=0&showTitle=false&size=1476809&status=done&style=none&taskId=u57cc47e6-4e88-4ae4-8a99-594388cf514&title=&width=1920)\nBoth approaches rely on the fact that the **synchronous React renderer needs to rebuild the component tree client-side which the use of the shipped JavaScript bundle, even though this component tree was already available on the server.**\nReact Server Components allow React to send the **actual serialized component tree** to the client. The client-side React renderer understands this format and uses it to performantly reconstruct the React component tree without having to send the HTML file or JavaScript bundle.\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/22577092/1690268656642-35197a87-e288-4829-a223-809e779414da.png#averageHue=%23f9f9f9&clientId=ud75be37b-ab2a-4&from=paste&height=676&id=u4b95a1d3&originHeight=1351&originWidth=3840&originalType=binary&ratio=2&rotation=0&showTitle=false&size=661028&status=done&style=none&taskId=ua9003e84-2eac-49d9-b063-ab40d23617b&title=&width=1920)\nWe can use this new rendering pattern by combining `**react-server-dom-webpack/server**'s **renderToPipeableStream**` method with `**react-dom/client**`'s `**createRoot**` method.\nBy default, React won't hydrate React Server Components. The components aren't expected to use any client-side interactivity like accessing the **window** object or use hooks like **useState** or **useEffect**.\nTo add a component and its imports to a JavaScript bundle that gets shipped to the client, thus making it interactive, you can use the [\"use client\" bundler directive](https://react.dev/reference/react/use-client) on the top of the file. This tells the bundler to add **this component and its imports** to the client bundle and tells React to hydrate the tree client-side to add interactivity. Such components are referred to as Client Components.\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/22577092/1690269029259-7302d886-64e6-4647-9eff-5a40ae353f25.png#averageHue=%23f1e2ce&clientId=ud75be37b-ab2a-4&from=paste&height=634&id=u203facdc&originHeight=1268&originWidth=3840&originalType=binary&ratio=2&rotation=0&showTitle=false&size=788979&status=done&style=none&taskId=u507a01a5-0848-4040-bdc4-5fe2781612b&title=&width=1920)\nIt's up to the developer to optimize bundle size when working with Client Components. Developers can do this by:\n\n- Ensuring that only the leaf-most node of the interactive component defines the **\"use client\"** directive. This may require some component decoupling.\n- Passing component trees **as props** rather than importing them directly. This allows React to render the **children** as React Server Components without adding them to the client bundle.\n\n## Suspense\n the new capabilities introduced with React 18 extend **Suspense** to data fetching.\n```tsx\nasync function BlogPosts() {\n  const posts = await db.posts.findAll();\n  return '...';\n}\n\nexport default function Page() {\n  return (\n    <Suspense fallback={<Skeleton />}>\n      <BlogPosts />\n    </Suspense>\n  )\n}\n```\nThe true power of **Suspense** comes from its deep integration with React's Concurrent features. When a component is suspended, for example because itâ€™s still waiting for data to load, React doesn't just sit idle until the component has received the data. Instead, it pauses the rendering of the suspended component and shifts its focus to other tasks.\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/22577092/1690269935138-b3ad7a3a-0326-4262-b131-26a5456d0c76.png#averageHue=%23f8f8f8&clientId=ud75be37b-ab2a-4&from=paste&height=993&id=u3240a1eb&originHeight=1986&originWidth=3484&originalType=binary&ratio=2&rotation=0&showTitle=false&size=1027302&status=done&style=none&taskId=u84ec620b-7198-4ee4-af96-05f9aeef375&title=&width=1742)\nDuring this time, we can tell React to render a fallback UI to indicate that this component is still loading. Once the awaited data becomes available, React can seamlessly resume the rendering of the previously suspended component in an interruptible way, like we previously saw happening with transitions.\nReact can also reprioritize components based on user interaction. For example, when a user interacts with a suspended component that's not currently being rendered, React suspends the ongoing render and prioritizes the component that the user is interacting with.\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/22577092/1690270453641-f8bea9c9-f974-4a26-80ca-d8696e092726.png#averageHue=%23f9f8f7&clientId=ud75be37b-ab2a-4&from=paste&height=856&id=ud7a66ee8&originHeight=1712&originWidth=3840&originalType=binary&ratio=2&rotation=0&showTitle=false&size=852712&status=done&style=none&taskId=u2edb5693-6bf0-44d5-8a34-d1215a10f2e&title=&width=1920)\n# Data Fetching\nBesides rendering updates, React 18 also introduces a new API to fetch data and memoize the result efficiently.\nReact 18 now has a [cache function](https://nextjs.org/docs/app/building-your-application/data-fetching/caching#react-cache) that remembers the result of the wrapped function call. If you call the same function with the same arguments _within the same render pass_, it will use the memoized value without the need to execute the function again.\n```tsx\nimport { cache } from 'react'\n \nexport const getUser = cache(async (id) => {\n  const user = await db.user.findUnique({ id })\n  return user;\n})\n\ngetUser(1)\ngetUser(1) // Called within same render pass: returns memoized result.\n```\nIn **fetch** calls, React 18 now includes a similar caching mechanism by default without having to use **cache**. This helps to reduce the number of network requests in a single render pass, which improves application performance and lowers API costs.\n```tsx\nexport const fetchPost = (id) => {\n  const res = await fetch(`https://.../posts/${id}`);\n  const data = await res.json();\n  return { post: data.post } \n}\n\nfetchPost(1)\nfetchPost(1) // Called within same render pass: returns memoized result.\n```\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/22577092/1690270738188-a3ff0075-8aa2-4402-a1a1-2e218ddb33c3.png#averageHue=%23f7f6f6&clientId=ud75be37b-ab2a-4&from=paste&height=704&id=ubc3a3b10&originHeight=1408&originWidth=3840&originalType=binary&ratio=2&rotation=0&showTitle=false&size=625164&status=done&style=none&taskId=u9d55bbed-1078-4821-850f-45b64b8092c&title=&width=1920)\n# Conclusion\nIn summary, React 18's latest features improve performance in many ways.\n\n- With **Concurrent React**, the rendering process can be paused and resumed later or even abandoned. This means the UI can respond immediately to user input even if a large rendering task is in progress.\n- The **Transitions API **allows for smoother transitions during data fetches or screen changes without blocking user input.\n- **React Server Components** lets developers build components that work on both the server and client, combining the interactivity of client-side apps with the performance of traditional server rendering without the cost of hydration.\n- The extended **Suspense** functionality improves loading performance by allowing parts of the application to render before others that may take longer to fetch data."
    },
    {
      "id": "blogå†æ„å»º",
      "metadata": {
        "permalink": "/blog/blogå†æ„å»º",
        "editUrl": "https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2023-10-3-blogå†æ„å»º.md",
        "source": "@site/blog/2023-10-3-blogå†æ„å»º.md",
        "title": "blogå†æ„å»º",
        "description": "- ä¹‹å‰ä¸€ç›´éƒ½ä½¿ç”¨çš„æ˜¯åˆ«çš„æä¾›å•†æä¾›çš„æ–‡æ¡£æœåŠ¡ï¼Œä½†å½“æˆ‘æƒ³å±•ç¤ºä¸€äº›æ–‡æ¡£ä¹‹å¤–çš„å…¶å®ƒå†…å®¹æ—¶ï¼Œè‡ªå®šä¹‰çš„èƒ½åŠ›å°±å¾ˆå·®ã€‚ä¸€ç›´æœ‰è‡ªå·±æ­ä¸€ä¸ªåšå®¢çš„æƒ³æ³•ã€‚ä½†ä»é›¶å¼€å§‹æ­å»ºä¸€ä¸ªåšå®¢ç³»ç»Ÿï¼Œæ—¶é—´æˆæœ¬å¾ˆé«˜ï¼Œå°±ä¸€ç›´æ²¡ä»€ä¹ˆåŠ¨åŠ›",
        "date": "2023-10-03T00:00:00.000Z",
        "formattedDate": "2023å¹´10æœˆ3æ—¥",
        "tags": [
          {
            "label": "trifling",
            "permalink": "/blog/tags/trifling"
          }
        ],
        "readingTime": 3.82,
        "hasTruncateMarker": false,
        "authors": [
          {
            "name": "kcfuler",
            "title": "passionate software engineer",
            "url": "https://github.com/kcfuler",
            "imageURL": "https://s2.loli.net/2023/10/04/i7A3Mb81YwvNmGl.jpg",
            "key": "kcfuler"
          }
        ],
        "frontMatter": {
          "slug": "blogå†æ„å»º",
          "title": "blogå†æ„å»º",
          "authors": "kcfuler",
          "tags": [
            "trifling"
          ]
        },
        "prevItem": {
          "title": "react18å¦‚ä½•æé«˜åº”ç”¨æ€§èƒ½",
          "permalink": "/blog/react18å¦‚ä½•æé«˜åº”ç”¨æ€§èƒ½"
        },
        "nextItem": {
          "title": "å›½åº†æ¸¸",
          "permalink": "/blog/å›½åº†æ¸¸"
        }
      },
      "content": "- ä¹‹å‰ä¸€ç›´éƒ½ä½¿ç”¨çš„æ˜¯åˆ«çš„æä¾›å•†æä¾›çš„æ–‡æ¡£æœåŠ¡ï¼Œä½†å½“æˆ‘æƒ³å±•ç¤ºä¸€äº›æ–‡æ¡£ä¹‹å¤–çš„å…¶å®ƒå†…å®¹æ—¶ï¼Œè‡ªå®šä¹‰çš„èƒ½åŠ›å°±å¾ˆå·®ã€‚ä¸€ç›´æœ‰è‡ªå·±æ­ä¸€ä¸ªåšå®¢çš„æƒ³æ³•ã€‚ä½†ä»é›¶å¼€å§‹æ­å»ºä¸€ä¸ªåšå®¢ç³»ç»Ÿï¼Œæ—¶é—´æˆæœ¬å¾ˆé«˜ï¼Œå°±ä¸€ç›´æ²¡ä»€ä¹ˆåŠ¨åŠ›\n- çœ‹åˆ°cloudmoonocusä½¿ç”¨çš„[Docusaurus](https://docusaurus.io/), å…¼é¡¾mdæ–‡æ¡£æ”¯æŒä¸reactå‰ç«¯é¡µé¢çš„è‡ªå®šä¹‰èƒ½åŠ›ï¼Œæ­£å¥½ç¬¦åˆæˆ‘çš„éœ€æ±‚ï¼Œå°±ä½¿ç”¨å®ƒå§ï¼\n\n# è¡ŒåŠ¨\n\n## æ¦‚è§ˆ\n\nä½¿ç”¨åˆ°ä»¥ä¸‹å·¥å…·ï¼š\n\n- vercelï¼šå†…å®¹æ›´æ–°è‡ªåŠ¨éƒ¨ç½²\n\n- docusaurusï¼šåšå®¢æ¡†æ¶\n\n- Typoraï¼šç¼–è¾‘å™¨\n- Pic.Go + SM.MSï¼šå›¾åºŠå·¥å…·\n\n### docusaurusæ­å»ºåšå®¢\n\nâ€‹\tå‚è€ƒå®˜ç½‘\n\n### vercel\n\nâ€‹\tvercelæœ¬èº«çš„ä½¿ç”¨æ˜¯å¾ˆç®€å•çš„ï¼Œå¯¼å…¥é¡¹ç›®ï¼Œç„¶åé€‰æ‹©docusaurusæ¡†æ¶å³å¯ï¼Œå®ƒæä¾›è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²çš„åŠŸèƒ½ã€‚è¿™é‡Œä¸»è¦è¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆä¸ä½¿ç”¨Github pagesã€‚\n\nâ€‹\tä¸€å¼€å§‹æˆ‘æ˜¯æ‰“ç®—ä½¿ç”¨Github pagesæ¥å®Œæˆéƒ¨ç½²çš„ï¼Œä½†æ˜¯é‡åˆ°äº†è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šé€šè¿‡Github pageséƒ¨ç½²ï¼ŒåŸŸåä¼šè‡ªåŠ¨é‡å®šå‘åˆ°æˆ‘è‡ªå·±çš„åŸŸåã€‚å¸¦æ¥çš„åæœå°±æ˜¯ï¼šç›´æ¥è®¿é—®ä¼š404ï¼Œæˆ‘æƒ³è¦æ­£å¸¸è®¿é—®éƒ¨ç½²çš„åšå®¢å°±éœ€è¦æ‰‹åŠ¨æ·»åŠ åŸŸåè®¾ç½®ï¼Œè€Œdocusaurusæä¾›çš„`deploy` è„šæ‰‹æ¶å¹¶æ²¡æœ‰è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œæ¯ä¸€æ¬¡éƒ¨ç½²éƒ½ä¼šæ¸…é™¤æˆ‘å¯¹åŸŸåçš„è®¾ç½®ã€‚\n\nâ€‹\tä¸€å¼€å§‹æˆ‘è€ƒè™‘æ˜¯è‡ªå®šä¹‰åŸŸåçš„é—®é¢˜ï¼Œå°è¯•è§£é™¤è‡ªå®šä¹‰åŸŸåçš„è®¾ç½®ï¼Œä½†è§£é™¤ä¹‹åå¯¹åŸŸåçš„é‡å®šå‘ä»ç„¶å­˜åœ¨ã€‚![image-20231003225248184](https://s2.loli.net/2023/10/03/DdJLHRwoABgXyVF.png)\n\nâ€‹\tåé¢è€ƒè™‘æ˜¯ä¸æ˜¯åŸŸåè§£æå¸¦æ¥çš„é‡å®šå‘ï¼Œäºæ˜¯å°†é˜¿é‡Œäº‘ä¸Šçš„åŸŸåè§£æè§„åˆ™æ¸…é™¤ï¼Œä½†ä»ç„¶æœªç”Ÿæ•ˆã€‚\n\nâ€‹\tä¸Šé¢ä¸¤ä¸ªæ­¥éª¤èŠ±äº†2ä¸ªå¤šå°æ—¶ï¼ˆä¸­é€”éœ€è¦å¤šæ¬¡è§¦å‘éƒ¨ç½²æ¥éªŒè¯æ•ˆæœï¼‰ï¼Œæ„Ÿè§‰åˆ°æ—¶é—´çš„æµªè´¹ã€‚ç›´æ¥ä¸Švercelï¼Œ**20sè§£å†³é—®é¢˜**ã€‚\n\n### typora\n\nâ€‹\tmdç¼–è¾‘å™¨åŒç±»äº§å“æœ‰å¾ˆå¤šï¼Œé€‰æ‹©å®ƒçš„ä¸»è¦åŸå› æ˜¯ä¸¤ç‚¹ï¼š\n\n- UIè®¾è®¡ç®€æ´\n- å¯¹mdç¼–è¾‘çš„æ”¯æŒæ¯”è¾ƒå®Œå–„\n- ä¸å›¾åºŠçš„é›†æˆæ¯”è¾ƒç®€å•\n\n### å›¾åºŠ\n\nâ€‹\té€‰æ‹©pic-goçš„åŸå› ä¸»è¦è¿˜æ˜¯å’Œtyporaé›†æˆæ¯”è¾ƒæ–¹ä¾¿ã€‚ä½¿ç”¨SM.MSä½œä¸ºå›¾åºŠçš„ä¸»è¦åŸå› åˆ™æ˜¯å› ä¸ºä¸ç”¨å¤‡æ¡ˆï¼ˆå›½å†…OSSæä¾›å•†éƒ½éœ€è¦æä¾›åŸŸåå¤‡æ¡ˆæ‰èƒ½æä¾›æœåŠ¡ï¼Œè›‹ç–¼ï¼‰ï¼Œè€ŒGithubä¸Šä¼ çš„å›¾ç‰‡åŠ ä¸Šäº†è®¿é—®tokençš„é™åˆ¶ï¼Œæ— tokenæ— æ³•æ­£å¸¸è®¿é—®ï¼Œè›‹ç–¼ã€‚\n\n# æ€»ç»“\n\nâ€‹\tä¹‹å‰çš„å­¦ä¹ å¤§å¤šæ˜¯é€šè¿‡é˜…è¯»å·²æœ‰çš„èµ„æ–™ï¼Œæˆ–è€…é€šè¿‡CVæ¥å½¢æˆè‡ªå·±çš„ç¬”è®°ï¼Œè™½ç„¶æœ€åçœ‹èµ·æ¥å†…å®¹ä¹Ÿä¸å°‘ï¼Œä½†å®é™…ä¸Šç¼ºä¹ç†è§£ï¼Œå¹¶æ²¡æœ‰çœŸæ­£çš„å­¦åˆ°å¿ƒä¸­ï¼Œæ˜¯â€œå­¦äº†å¿˜â€çš„æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªåŸå› ã€‚\n\nâ€‹\tå†™ä½œä¹Ÿå¯ä»¥å¸®åŠ©è‡ªå·±å›é¡¾ã€æ•´ç†å‡ºæ€è·¯ï¼Œæé«˜è‡ªå·±çš„é¢è¯•ã€è¡¨è¾¾èƒ½åŠ›ï¼Œæ—¢ç„¶å‘ç°äº†é—®é¢˜ï¼Œå°±æ²¡æœ‰ç†ç”±ä¸è§£å†³å®ƒäº†ã€‚\n\nâ€‹\tä¸€å¤©æ—¶é—´ï¼Œåšå®¢æ¶å­åŸºæœ¬ä¸Šæ­å¥½äº†ï¼Œåé¢å¤šå¤šå†™ä½œå§ï¼"
    },
    {
      "id": "å›½åº†æ¸¸",
      "metadata": {
        "permalink": "/blog/å›½åº†æ¸¸",
        "editUrl": "https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2023-10-3-å›½åº†æ¸¸.md",
        "source": "@site/blog/2023-10-3-å›½åº†æ¸¸.md",
        "title": "å›½åº†æ¸¸",
        "description": "1696344578349",
        "date": "2023-10-03T00:00:00.000Z",
        "formattedDate": "2023å¹´10æœˆ3æ—¥",
        "tags": [
          {
            "label": "travel",
            "permalink": "/blog/tags/travel"
          }
        ],
        "readingTime": 0.01,
        "hasTruncateMarker": false,
        "authors": [
          {
            "name": "kcfuler",
            "title": "passionate software engineer",
            "url": "https://github.com/kcfuler",
            "imageURL": "https://s2.loli.net/2023/10/04/i7A3Mb81YwvNmGl.jpg",
            "key": "kcfuler"
          }
        ],
        "frontMatter": {
          "slug": "å›½åº†æ¸¸",
          "title": "å›½åº†æ¸¸",
          "authors": "kcfuler",
          "tags": [
            "travel"
          ]
        },
        "prevItem": {
          "title": "blogå†æ„å»º",
          "permalink": "/blog/blogå†æ„å»º"
        }
      },
      "content": "![1696344578349](https://s2.loli.net/2023/10/03/n5jkCi7ar23qmhX.jpg)\n\n![1696345182884](https://s2.loli.net/2023/10/03/RmQsSWv2M5ob48z.jpg)"
    }
  ]
}